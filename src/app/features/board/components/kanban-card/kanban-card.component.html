<div 
  #cardElement
  class="bg-white p-3 rounded-lg shadow-sm hover:shadow-md transition cursor-pointer group relative"
>
  @if (isEditing()) {
    <textarea
      #editInput
      [(ngModel)]="editContent"
      (blur)="saveEdit()"
      (keyup.enter)="saveEdit()"
      (keyup.escape)="cancelEdit()"
      rows="2"
      class="w-full text-sm resize-none border-blue-400 border rounded p-1 focus:outline-none"
      (click)="$event.stopPropagation()"
    ></textarea>
  } @else {
    <div (click)="onCardClick()" class="w-full">
      <div class="flex items-start justify-between gap-2">
        <p class="text-sm text-gray-800 flex-1 break-words select-none">{{ card.content }}</p>
        
        <button 
          (click)="onDelete($event)"
          class="opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500 transition p-1"
          title="Excluir"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      
      @if (card.description) {
        <p class="text-xs text-gray-500 mt-1 line-clamp-2 select-none">{{ card.description }}</p>
      }
    </div>
    
    <!-- Botão de edição rápida no hover -->
    <button 
      (click)="startEdit($event)"
      class="absolute top-2 right-8 opacity-0 group-hover:opacity-100 text-gray-400 hover:text-blue-500 p-1 bg-white/80 rounded"
      title="Editar"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
      </svg>
    </button>
  }
</div>
